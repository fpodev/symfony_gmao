{% extends 'base.html.twig' %}

{% block title %}Ville{% endblock %}

{% block body %}

    <h1>Ville</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ ville.id }}</td>
            </tr>
            <tr>
                <th>Name</th>
                <td>{{ ville.name }}</td>
            </tr>
            <tr>
                <th>Adress</th>
                <td>{{ ville.adress }}</td>
            </tr>
            <tr>
                <th>Zip_code</th>
                <td>{{ ville.zipCode }}</td>
            </tr>
            <tr>
                <th>Contact</th>
                <td>{{ ville.contact }}</td>
            </tr>        
            <tr>
                <th>Listes des b√¢timents</th>             
                    <td>
                        <select id="mySelect" onchange="myFunction()">
                            {% for buildings in building  %}                             
                            <option value='{{ buildings.id }}'>{{ buildings.name }}</option>
                            {% endfor %}
                        </select>
                        <button><a id="change" href="">Texte du bouton</a></button>                                                           
                    </td>                               
            </tr>            
        </tbody>
    </table>  
    

    <a href="{{ path('ville_index') }}">back to list</a>

    <a href="{{ path('ville_edit', {'id': ville.id}) }}">edit</a>

    <a href="{{ path('ville_addBuilding', {'id': ville.id}) }}">ajout batiment</a>

    {{ include('ville/_delete_form.html.twig') }}
{% endblock %}

{% block javascripts %}
<script>
    function myFunction() {
      var x = document.getElementById("mySelect").value;  
      var url = "{{ path('building_edit', {'id': 'value'}) }}"; 
        url = url.replace("value", x);
      document.getElementById("change").href = url;
    }
    </script>
{% endblock %}
